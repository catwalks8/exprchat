# Expressive Chat
A simple LLM chat client for koboldcpp with dynamic character portraits.

## Description
A slight upgrade over small static chat icons. Instead, just one text bubble for the latest response, and a big portrait image showing a character's expression to match it. The idea is making it feel more personal and dynamic, I guess.

Given a collection of images featuring the same character showing different emotions, the app will ask an LLM to pick one fitting the latest reply, and display it shortly after.

## Requirements
- **KoboldCpp** - Used as AI backend
- **GGUF LLM** - The language model that can be run locally through koboldcpp
- **Portrait images** - Multiple image files saved in one folder to be used as character portraits
- *(optional)* **AI Horde account** - Not necessary for use as an API Provider, but recommended for shorter queue times.

Portrait images should be named to describe the depicted expression/emotion in 1-2 words (e.g. angry, smiling, sad, rolling eyes). An effective option of acquiring character portraits would be to have them taken from a game or AI generated.

## How to use
- In the `Settings` tab, check the API Provider to make sure KoboldCpp is running and responding. 
- If a local model isn't sufficient, one of the available models provided by AI Horde may be selected. To use an account, enter the API key and press enter, it should display the account name and kudos balance.
- Select the portraits folder, either the images folder directly, or a parent directory containing multiple character folders (for easier switching):
```
[selected folder]
  ├─ <expr>.png
  ├─ <expr>.jpg
  └─ ...
```
or
```
[selected folder]
  ├─ <char name 1>
  │   ├─ <expr>.jpg
  │   ├─ <expr>.png
  │   └─ ...
  └─ <char name 2>
      ├─ <expr>.bmp
      ├─ <expr>.bmp
      └─ ...
```
- In the `Sampler` tab, raise/lower the temperature & other values as desired, or come back to change when needed.
- In the `Scenario` tab, set your and AI's names, provide descriptions of your & AI's character's appearance/personality/lore, describe the setting/current environment/this interaction's context, and provide examples of character responses. All fields are optional but recommended for better results.
- In the `Context` tab, the raw chat history is available for editing, writing and deleting parts of the chat. The Continue button will complete the last message in the context, and Retry will undo the last generated portion and generate again.

*The basic chat syntax is used, with a name, colon, dialog, and an optional action/description separated by a vertical line. Each turn is contained in a single line.*

- In the `Chat` tab, write your dialog and/or action, submit by pressing Enter or the `Send` button, or regenerate AI's last response. If the context was edited, the character portrait can be regenerated by clicking on it.